<?xml version="1.0" encoding="utf-8"?>
<extension type="component" version="4.0" method="upgrade">
    <name>ContactDB</name>
    <author>Ernesto González</author>
    <creationDate>2025</creationDate>
    <copyright>Derechos reservados</copyright>
    <license>GNU GPL v2 o posterior</license>
    <authorUrl>github.com/jernesten</authorUrl>
    <version>1.0.0</version>
    <description>Componente para almacenar mensajes de contacto en base de datos</description>

    <scriptfile>script.php</scriptfile>

    <files>
        <filename>com_contactdb.php</filename>
    </files>

    <!-- Archivos del frontend -->
    <files folder="site">
        <filename>controller.php</filename>
        <folder>controllers</folder>
        <folder>models</folder>
        <folder>views</folder>
    </files>

    <!-- Archivos de administración -->
    <administration>
        <menu>ContactDB</menu>
        <files folder="admin">
            <filename>contactdb.php</filename>
            <filename>controller.php</filename>
            <filename>config.xml</filename>
            <folder>controllers</folder>
            <folder>models</folder>
            <folder>sql</folder>
            <folder>tables</folder>
            <folder>views</folder>
        </files>
    </administration>

    <!-- Scripts de instalación -->
    <install>
        <sql>
            <file driver="mysql" charset="utf8">sql/install.mysql.utf8.sql</file>
        </sql>
        <files folder="modules/mod_contactdb">
            <filename>mod_contactdb.xml</filename>
            <filename>mod_contactdb.php</filename>
            <filename>helper.php</filename>
            <folder>tmpl</folder>
            <folder>assets</folder>
            <folder>language</folder>
        </files>
    </install>

    <uninstall>
        <sql>
            <file driver="mysql" charset="utf8">sql/uninstall.mysql.utf8.sql</file>
        </sql>
    </uninstall>

    <update>
        <schemas>
            <schemapath type="mysql">sql/updates/mysql</schemapath>
        </schemas>
    </update>
</extension>

